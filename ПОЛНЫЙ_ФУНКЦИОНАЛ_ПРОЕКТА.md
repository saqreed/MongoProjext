# üè¢ –°–∏—Å—Ç–µ–º–∞ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∫–æ–º–ø–∞–Ω–∏–µ–π - –ü–æ–ª–Ω–æ–µ —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ

## üìù –ü—Ä–µ–¥–∏—Å–ª–æ–≤–∏–µ

–î–∞–Ω–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è–µ—Ç —Å–æ–±–æ–π —Å–æ–≤—Ä–µ–º–µ–Ω–Ω–æ–µ –≤–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∫–æ–º–ø–∞–Ω–∏–µ–π, —Ä–∞–∑—Ä–∞–±–æ—Ç–∞–Ω–Ω–æ–µ —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º –ø–µ—Ä–µ–¥–æ–≤—ã—Ö –≤–µ–±-—Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–π. –ü—Ä–æ–µ–∫—Ç –≤–∫–ª—é—á–∞–µ—Ç –≤ —Å–µ–±—è –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω—ã–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª CRUD –æ–ø–µ—Ä–∞—Ü–∏–π, —Å–∏—Å—Ç–µ–º—É –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏ —Å —Ç—Ä–µ–º—è —É—Ä–æ–≤–Ω—è–º–∏ –¥–æ—Å—Ç—É–ø–∞, —Ä–∞–∑–≤–∏—Ç—É—é –æ—Ç—á–µ—Ç–Ω–æ—Å—Ç—å —Å —Ñ—É–Ω–∫—Ü–∏—è–º–∏ –∞–≥—Ä–µ–≥–∞—Ü–∏–∏ MongoDB, –∞ —Ç–∞–∫–∂–µ —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π –∏ –∏–Ω—Ç—É–∏—Ç–∏–≤–Ω–æ –ø–æ–Ω—è—Ç–Ω—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å.

–°–∏—Å—Ç–µ–º–∞ –ø–æ–∑–≤–æ–ª—è–µ—Ç —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ —É–ø—Ä–∞–≤–ª—è—Ç—å —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞–º–∏, –ø—Ä–æ–µ–∫—Ç–∞–º–∏ –∏ –æ—Ç–¥–µ–ª–∞–º–∏ –∫–æ–º–ø–∞–Ω–∏–∏, –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è—è —Ä–∞–∑–ª–∏—á–Ω—ã–µ —É—Ä–æ–≤–Ω–∏ –¥–æ—Å—Ç—É–ø–∞ –¥–ª—è –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–≤, –º–µ–Ω–µ–¥–∂–µ—Ä–æ–≤ –∏ –æ–±—ã—á–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π. –í—Å–µ –¥–∞–Ω–Ω—ã–µ —Ö—Ä–∞–Ω—è—Ç—Å—è –≤ NoSQL –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö MongoDB, —á—Ç–æ –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç –≥–∏–±–∫–æ—Å—Ç—å –∏ –º–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç—å —Ä–µ—à–µ–Ω–∏—è.

**–û—Å–æ–±–∞—è –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å**: –°–∏—Å—Ç–µ–º–∞ –≤–∫–ª—é—á–∞–µ—Ç –∏–Ω—Ç–µ–ª–ª–µ–∫—Ç—É–∞–ª—å–Ω—É—é –ø—Ä–æ–≤–µ—Ä–∫—É —Å–≤—è–∑–∞–Ω–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö, –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞—é—â—É—é –Ω–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–µ —É–¥–∞–ª–µ–Ω–∏–µ –∑–∞–ø–∏—Å–µ–π —Å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—è–º–∏.

---

## üõ†Ô∏è –¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏ –∏ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

### –ò—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–∏:
- **Backend**: Node.js, Express.js
- **–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö**: MongoDB
- **Frontend**: HTML5, CSS3, JavaScript (ES6+)
- **UI Framework**: Bootstrap 5
- **–ò–∫–æ–Ω–∫–∏**: Font Awesome 6
- **–ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è**: JWT (JSON Web Tokens)
- **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å**: bcrypt –¥–ª—è —Ö–µ—à–∏—Ä–æ–≤–∞–Ω–∏—è –ø–∞—Ä–æ–ª–µ–π

### –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞:
```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ   Frontend      ‚îÇ    ‚îÇ   Backend       ‚îÇ    ‚îÇ   Database      ‚îÇ
‚îÇ   (HTML/CSS/JS) ‚îÇ‚óÑ‚îÄ‚îÄ‚ñ∫‚îÇ   (Node.js)     ‚îÇ‚óÑ‚îÄ‚îÄ‚ñ∫‚îÇ   (MongoDB)     ‚îÇ
‚îÇ   Bootstrap 5   ‚îÇ    ‚îÇ   Express.js    ‚îÇ    ‚îÇ   4 Collections ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò    ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò    ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

---

## üîó –°–∏—Å—Ç–µ–º–∞ –ø—Ä–æ–≤–µ—Ä–∫–∏ —Å–≤—è–∑–∞–Ω–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö

### –õ–æ–≥–∏–∫–∞ –∫–∞—Å–∫–∞–¥–Ω–æ–≥–æ —É–¥–∞–ª–µ–Ω–∏—è:

–°–∏—Å—Ç–µ–º–∞ —Ä–µ–∞–ª–∏–∑—É–µ—Ç —É–º–Ω—É—é –ø—Ä–æ–≤–µ—Ä–∫—É —Å–≤—è–∑–∞–Ω–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö –ø–µ—Ä–µ–¥ —É–¥–∞–ª–µ–Ω–∏–µ–º –∑–∞–ø–∏—Å–µ–π:

#### 1. **–£–¥–∞–ª–µ–Ω–∏–µ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤**
```javascript
// –ü—Ä–æ–≤–µ—Ä–∫–∞ —É—á–∞—Å—Ç–∏—è –≤ –∞–∫—Ç–∏–≤–Ω—ã—Ö –ø—Ä–æ–µ–∫—Ç–∞—Ö
const activeProjects = await db.collection('projects').find({
  $or: [
    { manager: employeeToDelete.name },
    { team: { $in: [employeeToDelete.name] } }
  ],
  status: { $in: ['–ü–ª–∞–Ω–∏—Ä—É–µ—Ç—Å—è', '–í —Ä–∞–±–æ—Ç–µ'] }
}).toArray();

if (activeProjects.length > 0) {
  return res.status(400).json({ 
    error: `–ù–µ–ª—å–∑—è —É–¥–∞–ª–∏—Ç—å —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞ "${employeeToDelete.name}". –û–Ω —É—á–∞—Å—Ç–≤—É–µ—Ç –≤ ${activeProjects.length} –∞–∫—Ç–∏–≤–Ω—ã—Ö –ø—Ä–æ–µ–∫—Ç(–∞—Ö).`
  });
}
```

#### 2. **–£–¥–∞–ª–µ–Ω–∏–µ –æ—Ç–¥–µ–ª–æ–≤**
```javascript
// –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞–ª–∏—á–∏—è —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤ –≤ –æ—Ç–¥–µ–ª–µ
const employeesInDept = await db.collection('employees').countDocuments({ 
  department: departmentToDelete.name 
});

// –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞–ª–∏—á–∏—è –ø—Ä–æ–µ–∫—Ç–æ–≤ –≤ –æ—Ç–¥–µ–ª–µ
const projectsInDept = await db.collection('projects').countDocuments({ 
  department: departmentToDelete.name 
});

if (employeesInDept > 0 || projectsInDept > 0) {
  return res.status(400).json({ 
    error: `–ù–µ–ª—å–∑—è —É–¥–∞–ª–∏—Ç—å –æ—Ç–¥–µ–ª —Å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—è–º–∏.`
  });
}
```

#### 3. **–£–¥–∞–ª–µ–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–æ–≤**
```javascript
// –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞ –ø—Ä–æ–µ–∫—Ç–∞ (–Ω–µ–ª—å–∑—è —É–¥–∞–ª—è—Ç—å –∞–∫—Ç–∏–≤–Ω—ã–µ –ø—Ä–æ–µ–∫—Ç—ã)
if (projectToDelete.status === '–í —Ä–∞–±–æ—Ç–µ' || projectToDelete.status === '–ü–ª–∞–Ω–∏—Ä—É–µ—Ç—Å—è') {
  return res.status(400).json({ 
    error: `–ù–µ–ª—å–∑—è —É–¥–∞–ª–∏—Ç—å –ø—Ä–æ–µ–∫—Ç "${projectToDelete.name}" —Å–æ —Å—Ç–∞—Ç—É—Å–æ–º "${projectToDelete.status}". –ó–∞–≤–µ—Ä—à–∏—Ç–µ –∏–ª–∏ –æ—Ç–º–µ–Ω–∏—Ç–µ –ø—Ä–æ–µ–∫—Ç –ø–µ—Ä–µ–¥ —É–¥–∞–ª–µ–Ω–∏–µ–º.`
  });
}
```

### –ü—Ä–∞–≤–∏–ª—å–Ω–∞—è –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å —É–¥–∞–ª–µ–Ω–∏—è:

1. **–ó–∞–≤–µ—Ä—à–∏—Ç—å –∏–ª–∏ –æ—Ç–º–µ–Ω–∏—Ç—å –∞–∫—Ç–∏–≤–Ω—ã–µ –ø—Ä–æ–µ–∫—Ç—ã (–∏–∑–º–µ–Ω–∏—Ç—å —Å—Ç–∞—Ç—É—Å –Ω–∞ "–ó–∞–≤–µ—Ä—à–µ–Ω" –∏–ª–∏ "–û—Ç–º–µ–Ω–µ–Ω")**
2. **–£–¥–∞–ª–∏—Ç—å –∑–∞–≤–µ—Ä—à–µ–Ω–Ω—ã–µ/–æ—Ç–º–µ–Ω–µ–Ω–Ω—ã–µ –ø—Ä–æ–µ–∫—Ç—ã**  
3. **–ü–µ—Ä–µ–≤–µ—Å—Ç–∏ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤ –≤ –¥—Ä—É–≥–∏–µ –æ—Ç–¥–µ–ª—ã –∏–ª–∏ —É–¥–∞–ª–∏—Ç—å**
4. **–£–¥–∞–ª–∏—Ç—å –ø—É—Å—Ç—ã–µ –æ—Ç–¥–µ–ª—ã**

### –°—Ç–∞—Ç—É—Å—ã –ø—Ä–æ–µ–∫—Ç–æ–≤ –∏ —É–¥–∞–ª–µ–Ω–∏–µ:

- ‚úÖ **"–ó–∞–≤–µ—Ä—à–µ–Ω"** - –º–æ–∂–Ω–æ —É–¥–∞–ª—è—Ç—å
- ‚úÖ **"–û—Ç–º–µ–Ω–µ–Ω"** - –º–æ–∂–Ω–æ —É–¥–∞–ª—è—Ç—å  
- ‚ùå **"–í —Ä–∞–±–æ—Ç–µ"** - –Ω–µ–ª—å–∑—è —É–¥–∞–ª—è—Ç—å
- ‚ùå **"–ü–ª–∞–Ω–∏—Ä—É–µ—Ç—Å—è"** - –Ω–µ–ª—å–∑—è —É–¥–∞–ª—è—Ç—å

### Frontend –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫:

```javascript
.catch(error => {
  if (error.message.includes('—Å—Ç–∞—Ç—É—Å–æ–º') || error.message.includes('—É—á–∞—Å—Ç–≤—É–µ—Ç –≤') || error.message.includes('—Ä–∞–±–æ—Ç–∞–µ—Ç')) {
    showAlert('containerId', error.message, 'warning');
  } else {
    showAlert('containerId', error.message, 'danger');
  }
});
```

---

## üóÑÔ∏è –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

### –ö–æ–ª–ª–µ–∫—Ü–∏–∏ MongoDB:

#### 1. **users** - –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ —Å–∏—Å—Ç–µ–º—ã
```javascript
{
  _id: ObjectId,
  username: String,
  password: String (—Ö–µ—à–∏—Ä–æ–≤–∞–Ω–Ω—ã–π),
  permissions: Array<String>, // ['read', 'write', 'admin']
  createdAt: Date
}
```

#### 2. **employees** - –°–æ—Ç—Ä—É–¥–Ω–∏–∫–∏ –∫–æ–º–ø–∞–Ω–∏–∏
```javascript
{
  _id: ObjectId,
  name: String,
  position: String,
  department: String,
  salary: Number,
  email: String,
  phone: String,
  skills: Array<String>,
  hireDate: Date
}
```

#### 3. **projects** - –ü—Ä–æ–µ–∫—Ç—ã –∫–æ–º–ø–∞–Ω–∏–∏
```javascript
{
  _id: ObjectId,
  name: String,
  description: String,
  status: String, // '–ü–ª–∞–Ω–∏—Ä—É–µ—Ç—Å—è', '–í —Ä–∞–±–æ—Ç–µ', '–ó–∞–≤–µ—Ä—à–µ–Ω', '–û—Ç–º–µ–Ω–µ–Ω'
  budget: Number,
  department: String,
  manager: String,
  team: Array<String>,
  startDate: Date,
  endDate: Date
}
```

#### 4. **departments** - –û—Ç–¥–µ–ª—ã –∫–æ–º–ø–∞–Ω–∏–∏
```javascript
{
  _id: ObjectId,
  name: String,
  location: String,
  manager: String,
  budget: Number,
  employeeCount: Number,
  description: String
}
```

---

## üîê –°–∏—Å—Ç–µ–º–∞ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏ –∏ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏

### –£—Ä–æ–≤–Ω–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π:

| –†–æ–ª—å | –õ–æ–≥–∏–Ω | –ü–∞—Ä–æ–ª—å | –ü—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞ |
|------|-------|--------|---------------|
| **–ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä** | admin | admin123 | –ü–æ–ª–Ω—ã–π –¥–æ—Å—Ç—É–ø (—Å–æ–∑–¥–∞–Ω–∏–µ, —á—Ç–µ–Ω–∏–µ, –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ, —É–¥–∞–ª–µ–Ω–∏–µ) |
| **–ú–µ–Ω–µ–¥–∂–µ—Ä** | manager | manager123 | –ß—Ç–µ–Ω–∏–µ –∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö |
| **–ù–∞–±–ª—é–¥–∞—Ç–µ–ª—å** | viewer | viewer123 | –¢–æ–ª—å–∫–æ —á—Ç–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö |

### –ö–æ–¥ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏:

#### Middleware –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ —Ç–æ–∫–µ–Ω–∞:
```javascript
const authenticateToken = (req, res, next) => {
  const authHeader = req.headers['authorization'];
  const token = authHeader && authHeader.split(' ')[1];

  if (!token) {
    return res.status(401).json({ error: '–¢–æ–∫–µ–Ω –¥–æ—Å—Ç—É–ø–∞ –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç' });
  }

  jwt.verify(token, process.env.JWT_SECRET, (err, user) => {
    if (err) return res.status(403).json({ error: '–ù–µ–¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω—ã–π —Ç–æ–∫–µ–Ω' });
    req.user = user;
    next();
  });
};
```

#### Middleware –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –ø—Ä–∞–≤ –¥–æ—Å—Ç—É–ø–∞:
```javascript
const checkPermission = (requiredPermission) => {
  return (req, res, next) => {
    if (!req.user.permissions.includes(requiredPermission) && !req.user.permissions.includes('admin')) {
      return res.status(403).json({ error: '–ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –ø—Ä–∞–≤ –¥–ª—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –æ–ø–µ—Ä–∞—Ü–∏–∏' });
    }
    next();
  };
};
```

#### Endpoint –≤—Ö–æ–¥–∞ –≤ —Å–∏—Å—Ç–µ–º—É:
```javascript
app.post('/api/auth/login', async (req, res) => {
  try {
    const { username, password } = req.body;
    const user = await db.collection('users').findOne({ username });
    
    if (!user || !await bcrypt.compare(password, user.password)) {
      return res.status(401).json({ error: '–ù–µ–≤–µ—Ä–Ω—ã–µ —É—á–µ—Ç–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ' });
    }

    const token = jwt.sign(
      { userId: user._id, username: user.username, permissions: user.permissions },
      process.env.JWT_SECRET,
      { expiresIn: '24h' }
    );

    res.json({ token, user: { username: user.username, permissions: user.permissions } });
  } catch (error) {
    res.status(500).json({ error: '–û—à–∏–±–∫–∞ —Å–µ—Ä–≤–µ—Ä–∞' });
  }
});
```

---

## üë• –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞–º–∏

### Backend API –¥–ª—è —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤:

#### 1. –ü–æ–ª—É—á–µ–Ω–∏–µ –≤—Å–µ—Ö —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤:
```javascript
app.get('/api/employees', authenticateToken, checkPermission('read'), async (req, res) => {
  try {
    const employees = await db.collection('employees').find({}).toArray();
    res.json(employees);
  } catch (error) {
    res.status(500).json({ error: '–û—à–∏–±–∫–∞ –ø–æ–ª—É—á–µ–Ω–∏—è —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤' });
  }
});
```

#### 2. –î–æ–±–∞–≤–ª–µ–Ω–∏–µ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞:
```javascript
app.post('/api/employees', authenticateToken, checkPermission('write'), async (req, res) => {
  try {
    const employee = {
      ...req.body,
      hireDate: new Date(),
      skills: req.body.skills || []
    };
    const result = await db.collection('employees').insertOne(employee);
    res.status(201).json({ message: '–°–æ—Ç—Ä—É–¥–Ω–∏–∫ –¥–æ–±–∞–≤–ª–µ–Ω', id: result.insertedId });
  } catch (error) {
    res.status(500).json({ error: '–û—à–∏–±–∫–∞ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞' });
  }
});
```

#### 3. –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞:
```javascript
app.put('/api/employees/:id', authenticateToken, checkPermission('write'), async (req, res) => {
  try {
    const { ObjectId } = require('mongodb');
    const result = await db.collection('employees').updateOne(
      { _id: new ObjectId(req.params.id) },
      { $set: req.body }
    );
    res.json({ message: '–°–æ—Ç—Ä—É–¥–Ω–∏–∫ –æ–±–Ω–æ–≤–ª–µ–Ω', modifiedCount: result.modifiedCount });
  } catch (error) {
    res.status(500).json({ error: '–û—à–∏–±–∫–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞' });
  }
});
```

#### 4. –£–¥–∞–ª–µ–Ω–∏–µ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞ —Å –ø—Ä–æ–≤–µ—Ä–∫–æ–π —Å–≤—è–∑–µ–π:
```javascript
app.delete('/api/employees/:id', authenticateToken, checkPermission('admin'), async (req, res) => {
  try {
    const { ObjectId } = require('mongodb');
    
    const employeeToDelete = await db.collection('employees').findOne({ _id: new ObjectId(req.params.id) });
    
    if (!employeeToDelete) {
      return res.status(404).json({ error: '–°–æ—Ç—Ä—É–¥–Ω–∏–∫ –Ω–µ –Ω–∞–π–¥–µ–Ω' });
    }
    
    const activeProjects = await db.collection('projects').find({
      $or: [
        { manager: employeeToDelete.name },
        { team: { $in: [employeeToDelete.name] } }
      ],
      status: { $in: ['–ü–ª–∞–Ω–∏—Ä—É–µ—Ç—Å—è', '–í —Ä–∞–±–æ—Ç–µ'] }
    }).toArray();
    
    if (activeProjects.length > 0) {
      return res.status(400).json({ 
        error: `–ù–µ–ª—å–∑—è —É–¥–∞–ª–∏—Ç—å —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞ "${employeeToDelete.name}". –û–Ω —É—á–∞—Å—Ç–≤—É–µ—Ç –≤ ${activeProjects.length} –∞–∫—Ç–∏–≤–Ω—ã—Ö –ø—Ä–æ–µ–∫—Ç(–∞—Ö).`
      });
    }
    
    const result = await db.collection('employees').deleteOne({ _id: new ObjectId(req.params.id) });
    res.json({ message: '–°–æ—Ç—Ä—É–¥–Ω–∏–∫ —É–¥–∞–ª–µ–Ω', deletedCount: result.deletedCount });
  } catch (error) {
    res.status(500).json({ error: '–û—à–∏–±–∫–∞ —É–¥–∞–ª–µ–Ω–∏—è —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞' });
  }
});
```

### Frontend —Ñ—É–Ω–∫—Ü–∏–∏ –¥–ª—è —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤:

#### –ó–∞–≥—Ä—É–∑–∫–∞ –∏ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤:
```javascript
async function loadEmployees() {
  const loading = document.getElementById('employeesLoading');
  const tableBody = document.getElementById('employeesTableBody');
  
  loading.style.display = 'block';
  
  try {
    const employees = await apiRequest('/employees');
    
    tableBody.innerHTML = employees.map(employee => `
      <tr>
        <td>
          <div class="d-flex align-items-center">
            <i class="fas fa-user-circle fa-2x text-primary me-2"></i>
            <div>
              <div class="fw-bold">${employee.name}</div>
              <small class="text-muted">${employee.email}</small>
            </div>
          </div>
        </td>
        <td><span class="badge bg-secondary">${employee.position}</span></td>
        <td>${employee.department}</td>
        <td class="fw-bold">${employee.salary.toLocaleString()} ‚ÇΩ</td>
        <td>${employee.email}</td>
        <td>
          <button class="btn btn-sm btn-outline-primary me-1" onclick="editEmployee('${employee._id}')">
            <i class="fas fa-edit"></i>
          </button>
          ${currentUser.permissions.includes('admin') ? `
            <button class="btn btn-sm btn-outline-danger" onclick="deleteEmployee('${employee._id}')">
              <i class="fas fa-trash"></i>
            </button>
          ` : ''}
        </td>
      </tr>
    `).join('');
    
  } catch (error) {
    showAlert('employeesAlert', error.message, 'danger');
  } finally {
    loading.style.display = 'none';
  }
}
```

#### –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞:
```javascript
async function editEmployee(id) {
  try {
    const employees = await apiRequest('/employees');
    const employee = employees.find(emp => emp._id === id);
    
    if (!employee) {
      showAlert('employeesAlert', '–°–æ—Ç—Ä—É–¥–Ω–∏–∫ –Ω–µ –Ω–∞–π–¥–µ–Ω', 'danger');
      return;
    }
    
    currentEditingEmployeeId = id;
    
    document.getElementById('editEmployeeName').value = employee.name;
    document.getElementById('editEmployeePosition').value = employee.position;
    document.getElementById('editEmployeeDepartment').value = employee.department;
    document.getElementById('editEmployeeSalary').value = employee.salary;
    document.getElementById('editEmployeeEmail').value = employee.email;
    document.getElementById('editEmployeePhone').value = employee.phone || '';
    document.getElementById('editEmployeeSkills').value = employee.skills ? employee.skills.join(', ') : '';
    
    const editModal = new bootstrap.Modal(document.getElementById('editEmployeeModal'));
    editModal.show();
    
  } catch (error) {
    showAlert('employeesAlert', error.message, 'danger');
  }
}

async function updateEmployee() {
  const form = document.getElementById('editEmployeeForm');
  const formData = new FormData(form);
  
  const updatedEmployee = {
    name: formData.get('name'),
    position: formData.get('position'),
    department: formData.get('department'),
    salary: parseInt(formData.get('salary')),
    email: formData.get('email'),
    phone: formData.get('phone'),
    skills: formData.get('skills') ? formData.get('skills').split(',').map(s => s.trim()) : []
  };
  
  try {
    await apiRequest(`/employees/${currentEditingEmployeeId}`, {
      method: 'PUT',
      body: updatedEmployee
    });
    
    bootstrap.Modal.getInstance(document.getElementById('editEmployeeModal')).hide();
    loadEmployees();
    showToast('–°–æ—Ç—Ä—É–¥–Ω–∏–∫ —É—Å–ø–µ—à–Ω–æ –æ–±–Ω–æ–≤–ª–µ–Ω!', 'success');
    currentEditingEmployeeId = null;
  } catch (error) {
    showAlert('editEmployeeModalAlert', error.message, 'danger');
  }
}
```

---

## üìä –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø—Ä–æ–µ–∫—Ç–∞–º–∏

### Backend API –¥–ª—è –ø—Ä–æ–µ–∫—Ç–æ–≤:

#### 1. –ü–æ–ª—É—á–µ–Ω–∏–µ –≤—Å–µ—Ö –ø—Ä–æ–µ–∫—Ç–æ–≤:
```javascript
app.get('/api/projects', authenticateToken, checkPermission('read'), async (req, res) => {
  try {
    const projects = await db.collection('projects').find({}).toArray();
    res.json(projects);
  } catch (error) {
    res.status(500).json({ error: '–û—à–∏–±–∫–∞ –ø–æ–ª—É—á–µ–Ω–∏—è –ø—Ä–æ–µ–∫—Ç–æ–≤' });
  }
});
```

#### 2. –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞:
```javascript
app.post('/api/projects', authenticateToken, checkPermission('write'), async (req, res) => {
  try {
    const project = {
      ...req.body,
      team: req.body.team || [],
      createdAt: new Date()
    };
    const result = await db.collection('projects').insertOne(project);
    res.status(201).json({ message: '–ü—Ä–æ–µ–∫—Ç –¥–æ–±–∞–≤–ª–µ–Ω', id: result.insertedId });
  } catch (error) {
    res.status(500).json({ error: '–û—à–∏–±–∫–∞ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –ø—Ä–æ–µ–∫—Ç–∞' });
  }
});
```

#### 3. –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞:
```javascript
app.put('/api/projects/:id', authenticateToken, checkPermission('write'), async (req, res) => {
  try {
    const { ObjectId } = require('mongodb');
    const result = await db.collection('projects').updateOne(
      { _id: new ObjectId(req.params.id) },
      { $set: req.body }
    );
    res.json({ message: '–ü—Ä–æ–µ–∫—Ç –æ–±–Ω–æ–≤–ª–µ–Ω', modifiedCount: result.modifiedCount });
  } catch (error) {
    res.status(500).json({ error: '–û—à–∏–±–∫–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –ø—Ä–æ–µ–∫—Ç–∞' });
  }
});
```

#### 4. –£–¥–∞–ª–µ–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞ —Å –ø—Ä–æ–≤–µ—Ä–∫–æ–π —Å—Ç–∞—Ç—É—Å–∞:
```javascript
app.delete('/api/projects/:id', authenticateToken, checkPermission('admin'), async (req, res) => {
  try {
    const { ObjectId } = require('mongodb');
    
    const projectToDelete = await db.collection('projects').findOne({ _id: new ObjectId(req.params.id) });
    
    if (!projectToDelete) {
      return res.status(404).json({ error: '–ü—Ä–æ–µ–∫—Ç –Ω–µ –Ω–∞–π–¥–µ–Ω' });
    }
    
    if (projectToDelete.status === '–í —Ä–∞–±–æ—Ç–µ' || projectToDelete.status === '–ü–ª–∞–Ω–∏—Ä—É–µ—Ç—Å—è') {
      return res.status(400).json({ 
        error: `–ù–µ–ª—å–∑—è —É–¥–∞–ª–∏—Ç—å –ø—Ä–æ–µ–∫—Ç "${projectToDelete.name}" —Å–æ —Å—Ç–∞—Ç—É—Å–æ–º "${projectToDelete.status}". –ó–∞–≤–µ—Ä—à–∏—Ç–µ –∏–ª–∏ –æ—Ç–º–µ–Ω–∏—Ç–µ –ø—Ä–æ–µ–∫—Ç –ø–µ—Ä–µ–¥ —É–¥–∞–ª–µ–Ω–∏–µ–º.`
      });
    }
    
    const result = await db.collection('projects').deleteOne({ _id: new ObjectId(req.params.id) });
    res.json({ message: '–ü—Ä–æ–µ–∫—Ç —É–¥–∞–ª–µ–Ω', deletedCount: result.deletedCount });
  } catch (error) {
    res.status(500).json({ error: '–û—à–∏–±–∫–∞ —É–¥–∞–ª–µ–Ω–∏—è –ø—Ä–æ–µ–∫—Ç–∞' });
  }
});
```

### Frontend —Ñ—É–Ω–∫—Ü–∏–∏ –¥–ª—è –ø—Ä–æ–µ–∫—Ç–æ–≤:

#### –ó–∞–≥—Ä—É–∑–∫–∞ –∏ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–æ–≤:
```javascript
async function loadProjects() {
  const loading = document.getElementById('projectsLoading');
  const container = document.getElementById('projectsContainer');
  
  loading.style.display = 'block';
  
  try {
    const projects = await apiRequest('/projects');
    
    container.innerHTML = projects.map(project => `
      <div class="col-md-6 col-lg-4 mb-4">
        <div class="card h-100">
          <div class="card-header bg-${getStatusColor(project.status)} text-white">
            <h5 class="card-title mb-0">${project.name}</h5>
            <span class="badge bg-light text-dark">${project.status}</span>
          </div>
          <div class="card-body">
            <p class="card-text">${project.description}</p>
            <div class="mb-2">
              <strong>–ë—é–¥–∂–µ—Ç:</strong> ${project.budget.toLocaleString()} ‚ÇΩ
            </div>
            <div class="mb-2">
              <strong>–û—Ç–¥–µ–ª:</strong> ${project.department}
            </div>
            <div class="mb-2">
              <strong>–ú–µ–Ω–µ–¥–∂–µ—Ä:</strong> ${project.manager || '–ù–µ –Ω–∞–∑–Ω–∞—á–µ–Ω'}
            </div>
            <div class="text-muted small">
              ${new Date(project.startDate).toLocaleDateString()} - 
              ${project.endDate ? new Date(project.endDate).toLocaleDateString() : '–ù–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–æ'}
            </div>
          </div>
          <div class="card-footer">
            <button class="btn btn-sm btn-outline-primary me-1" onclick="editProject('${project._id}')">
              <i class="fas fa-edit"></i> –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å
            </button>
            ${currentUser.permissions.includes('admin') ? `
              <button class="btn btn-sm btn-outline-danger" onclick="deleteProject('${project._id}')">
                <i class="fas fa-trash"></i> –£–¥–∞–ª–∏—Ç—å
              </button>
            ` : ''}
          </div>
        </div>
      </div>
    `).join('');
  } catch (error) {
    console.error('Error loading projects:', error);
  } finally {
    loading.style.display = 'none';
  }
}
```

---

## üè¢ –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –æ—Ç–¥–µ–ª–∞–º–∏

### Backend API –¥–ª—è –æ—Ç–¥–µ–ª–æ–≤:

#### 1. –ü–æ–ª—É—á–µ–Ω–∏–µ –≤—Å–µ—Ö –æ—Ç–¥–µ–ª–æ–≤:
```javascript
app.get('/api/departments', authenticateToken, checkPermission('read'), async (req, res) => {
  try {
    const departments = await db.collection('departments').find({}).toArray();
    res.json(departments);
  } catch (error) {
    res.status(500).json({ error: '–û—à–∏–±–∫–∞ –ø–æ–ª—É—á–µ–Ω–∏—è –æ—Ç–¥–µ–ª–æ–≤' });
  }
});
```

#### 2. –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –æ—Ç–¥–µ–ª–∞:
```javascript
app.post('/api/departments', authenticateToken, checkPermission('write'), async (req, res) => {
  try {
    const department = {
      ...req.body,
      employeeCount: 0,
      createdAt: new Date()
    };
    const result = await db.collection('departments').insertOne(department);
    res.status(201).json({ message: '–û—Ç–¥–µ–ª –¥–æ–±–∞–≤–ª–µ–Ω', id: result.insertedId });
  } catch (error) {
    res.status(500).json({ error: '–û—à–∏–±–∫–∞ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –æ—Ç–¥–µ–ª–∞' });
  }
});
```

#### 3. –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –æ—Ç–¥–µ–ª–∞:
```javascript
app.put('/api/departments/:id', authenticateToken, checkPermission('write'), async (req, res) => {
  try {
    const { ObjectId } = require('mongodb');
    const result = await db.collection('departments').updateOne(
      { _id: new ObjectId(req.params.id) },
      { $set: req.body }
    );
    res.json({ message: '–û—Ç–¥–µ–ª –æ–±–Ω–æ–≤–ª–µ–Ω', modifiedCount: result.modifiedCount });
  } catch (error) {
    res.status(500).json({ error: '–û—à–∏–±–∫–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –æ—Ç–¥–µ–ª–∞' });
  }
});
```

#### 4. –£–¥–∞–ª–µ–Ω–∏–µ –æ—Ç–¥–µ–ª–∞ —Å –ø—Ä–æ–≤–µ—Ä–∫–æ–π —Å–≤—è–∑–µ–π:
```javascript
app.delete('/api/departments/:id', authenticateToken, checkPermission('admin'), async (req, res) => {
  try {
    const { ObjectId } = require('mongodb');
    
    const departmentToDelete = await db.collection('departments').findOne({ _id: new ObjectId(req.params.id) });
    
    if (!departmentToDelete) {
      return res.status(404).json({ error: '–û—Ç–¥–µ–ª –Ω–µ –Ω–∞–π–¥–µ–Ω' });
    }
    
    const employeesInDept = await db.collection('employees').countDocuments({ 
      department: departmentToDelete.name 
    });
    
    if (employeesInDept > 0) {
      return res.status(400).json({ 
        error: `–ù–µ–ª—å–∑—è —É–¥–∞–ª–∏—Ç—å –æ—Ç–¥–µ–ª "${departmentToDelete.name}". –í –Ω–µ–º —Ä–∞–±–æ—Ç–∞–µ—Ç ${employeesInDept} —Å–æ—Ç—Ä—É–¥–Ω–∏–∫(–æ–≤).`
      });
    }
    
    const projectsInDept = await db.collection('projects').countDocuments({ 
      department: departmentToDelete.name 
    });
    
    if (projectsInDept > 0) {
      return res.status(400).json({ 
        error: `–ù–µ–ª—å–∑—è —É–¥–∞–ª–∏—Ç—å –æ—Ç–¥–µ–ª "${departmentToDelete.name}". –í –Ω–µ–º ${projectsInDept} –∞–∫—Ç–∏–≤–Ω—ã—Ö –ø—Ä–æ–µ–∫—Ç(–æ–≤).`
      });
    }
    
    const result = await db.collection('departments').deleteOne({ _id: new ObjectId(req.params.id) });
    res.json({ message: '–û—Ç–¥–µ–ª —É–¥–∞–ª–µ–Ω', deletedCount: result.deletedCount });
  } catch (error) {
    res.status(500).json({ error: '–û—à–∏–±–∫–∞ —É–¥–∞–ª–µ–Ω–∏—è –æ—Ç–¥–µ–ª–∞' });
  }
});
```

---

## üìà –°–∏—Å—Ç–µ–º–∞ –æ—Ç—á–µ—Ç–Ω–æ—Å—Ç–∏ —Å –∞–≥—Ä–µ–≥–∞—Ü–∏–µ–π

### 1. –û—Ç—á–µ—Ç "–°–æ—Ç—Ä—É–¥–Ω–∏–∫–∏ –ø–æ –æ—Ç–¥–µ–ª–∞–º":
```javascript
app.get('/api/reports/employees-by-department', authenticateToken, checkPermission('read'), async (req, res) => {
  try {
    const report = await db.collection('employees').aggregate([
      {
        $group: {
          _id: '$department',
          count: { $sum: 1 },
          avgSalary: { $avg: '$salary' },
          minSalary: { $min: '$salary' },
          maxSalary: { $max: '$salary' },
          totalSalaryExpense: { $sum: '$salary' },
          employees: { $push: { name: '$name', position: '$position', salary: '$salary' } }
        }
      },
      { $sort: { count: -1 } }
    ]).toArray();
    res.json(report);
  } catch (error) {
    res.status(500).json({ error: '–û—à–∏–±–∫–∞ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –æ—Ç—á–µ—Ç–∞' });
  }
});
```

### 2. –û—Ç—á–µ—Ç "–ü—Ä–æ–µ–∫—Ç—ã –ø–æ —Å—Ç–∞—Ç—É—Å–∞–º":
```javascript
app.get('/api/reports/projects-by-status', authenticateToken, checkPermission('read'), async (req, res) => {
  try {
    const report = await db.collection('projects').aggregate([
      {
        $group: {
          _id: '$status',
          count: { $sum: 1 },
          totalBudget: { $sum: '$budget' },
          avgBudget: { $avg: '$budget' },
          projects: { 
            $push: { 
              name: '$name', 
              budget: '$budget',
              department: '$department',
              manager: '$manager'
            } 
          }
        }
      },
      { $sort: { totalBudget: -1 } }
    ]).toArray();
    res.json(report);
  } catch (error) {
    res.status(500).json({ error: '–û—à–∏–±–∫–∞ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –æ—Ç—á–µ—Ç–∞' });
  }
});
```

### 3. –û—Ç—á–µ—Ç "–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∑–∞—Ä–ø–ª–∞—Ç":
```javascript
app.get('/api/reports/salary-statistics', authenticateToken, checkPermission('read'), async (req, res) => {
  try {
    const report = await db.collection('employees').aggregate([
      {
        $group: {
          _id: null,
          avgSalary: { $avg: '$salary' },
          minSalary: { $min: '$salary' },
          maxSalary: { $max: '$salary' },
          totalEmployees: { $sum: 1 },
          totalSalaryExpense: { $sum: '$salary' },
          medianSalary: { $push: '$salary' }
        }
      },
      {
        $project: {
          _id: 0,
          avgSalary: { $round: ['$avgSalary', 2] },
          minSalary: 1,
          maxSalary: 1,
          totalEmployees: 1,
          totalSalaryExpense: 1,
          salaryRange: { $subtract: ['$maxSalary', '$minSalary'] }
        }
      }
    ]).toArray();
    res.json(report[0] || {});
  } catch (error) {
    res.status(500).json({ error: '–û—à–∏–±–∫–∞ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –æ—Ç—á–µ—Ç–∞' });
  }
});
```

### Frontend –∑–∞–≥—Ä—É–∑–∫–∞ –æ—Ç—á–µ—Ç–æ–≤:
```javascript
async function loadAllReports() {
  try {
    const [empByDeptReport, projByStatusReport, salaryStats] = await Promise.all([
      apiRequest('/reports/employees-by-department'),
      apiRequest('/reports/projects-by-status'),
      apiRequest('/reports/salary-statistics')
    ]);
    
    // –û—Ç—á–µ—Ç –ø–æ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞–º –ø–æ –æ—Ç–¥–µ–ª–∞–º
    document.getElementById('employeesByDeptReport').innerHTML = empByDeptReport.map(item => `
      <div class="mb-3 p-3 bg-light rounded">
        <h6 class="text-primary">${item._id || '–ù–µ —É–∫–∞–∑–∞–Ω'}</h6>
        <div class="row">
          <div class="col-6">
            <small class="text-muted">–°–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤:</small>
            <div class="fw-bold">${item.count}</div>
          </div>
          <div class="col-6">
            <small class="text-muted">–°—Ä–µ–¥–Ω—è—è –ó–ü:</small>
            <div class="fw-bold">${Math.round(item.avgSalary).toLocaleString()} ‚ÇΩ</div>
          </div>
        </div>
        <div class="row mt-2">
          <div class="col-6">
            <small class="text-muted">–ú–∏–Ω. –ó–ü:</small>
            <div>${item.minSalary.toLocaleString()} ‚ÇΩ</div>
          </div>
          <div class="col-6">
            <small class="text-muted">–ú–∞–∫—Å. –ó–ü:</small>
            <div>${item.maxSalary.toLocaleString()} ‚ÇΩ</div>
          </div>
        </div>
      </div>
    `).join('');
    
    // –û—Ç—á–µ—Ç –ø–æ –ø—Ä–æ–µ–∫—Ç–∞–º –ø–æ —Å—Ç–∞—Ç—É—Å–∞–º
    document.getElementById('projectsByStatusReport').innerHTML = projByStatusReport.map(item => `
      <div class="mb-3 p-3 bg-light rounded">
        <h6 class="text-success">${item._id}</h6>
        <div class="row">
          <div class="col-6">
            <small class="text-muted">–ü—Ä–æ–µ–∫—Ç–æ–≤:</small>
            <div class="fw-bold">${item.count}</div>
          </div>
          <div class="col-6">
            <small class="text-muted">–û–±—â–∏–π –±—é–¥–∂–µ—Ç:</small>
            <div class="fw-bold">${item.totalBudget.toLocaleString()} ‚ÇΩ</div>
          </div>
        </div>
        <div class="row mt-2">
          <div class="col-12">
            <small class="text-muted">–°—Ä–µ–¥–Ω–∏–π –±—é–¥–∂–µ—Ç:</small>
            <div>${Math.round(item.avgBudget).toLocaleString()} ‚ÇΩ</div>
          </div>
        </div>
      </div>
    `).join('');
    
    // –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∑–∞—Ä–ø–ª–∞—Ç
    document.getElementById('salaryStatsReport').innerHTML = `
      <div class="row">
        <div class="col-12 mb-3">
          <div class="p-3 bg-light rounded">
            <small class="text-muted">–°—Ä–µ–¥–Ω—è—è –∑–∞—Ä–ø–ª–∞—Ç–∞</small>
            <div class="fw-bold h4 text-info">${Math.round(salaryStats.avgSalary || 0).toLocaleString()} ‚ÇΩ</div>
          </div>
        </div>
        <div class="col-6 mb-2">
          <div class="p-2 bg-light rounded">
            <small class="text-muted">–ú–∏–Ω–∏–º—É–º</small>
            <div class="fw-bold">${(salaryStats.minSalary || 0).toLocaleString()} ‚ÇΩ</div>
          </div>
        </div>
        <div class="col-6 mb-2">
          <div class="p-2 bg-light rounded">
            <small class="text-muted">–ú–∞–∫—Å–∏–º—É–º</small>
            <div class="fw-bold">${(salaryStats.maxSalary || 0).toLocaleString()} ‚ÇΩ</div>
          </div>
        </div>
        <div class="col-6 mb-2">
          <div class="p-2 bg-light rounded">
            <small class="text-muted">–í—Å–µ–≥–æ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤</small>
            <div class="fw-bold">${salaryStats.totalEmployees || 0}</div>
          </div>
        </div>
        <div class="col-6 mb-2">
          <div class="p-2 bg-light rounded">
            <small class="text-muted">–û–±—â–∏–µ —Ä–∞—Å—Ö–æ–¥—ã</small>
            <div class="fw-bold">${(salaryStats.totalSalaryExpense || 0).toLocaleString()} ‚ÇΩ</div>
          </div>
        </div>
      </div>
    `;
  } catch (error) {
    console.error('Error loading reports:', error);
  }
}
```

---

## üîç –§—É–Ω–∫—Ü–∏–∏ –ø–æ–∏—Å–∫–∞ –∏ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏

### Backend –ø–æ–∏—Å–∫ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤:
```javascript
app.get('/api/search/employees', authenticateToken, checkPermission('read'), async (req, res) => {
  try {
    const { name, department, position, minSalary, maxSalary } = req.query;
    let query = {};
    
    if (name) query.name = { $regex: name, $options: 'i' };
    if (department) query.department = department;
    if (position) query.position = { $regex: position, $options: 'i' };
    
    if (minSalary || maxSalary) {
      query.salary = {};
      if (minSalary) query.salary.$gte = parseInt(minSalary);
      if (maxSalary) query.salary.$lte = parseInt(maxSalary);
    }
    
    const employees = await db.collection('employees').find(query).sort({ name: 1 }).toArray();
    res.json(employees);
  } catch (error) {
    res.status(500).json({ error: '–û—à–∏–±–∫–∞ –ø–æ–∏—Å–∫–∞ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤' });
  }
});
```

### Frontend —Ñ—É–Ω–∫—Ü–∏—è –ø–æ–∏—Å–∫–∞:
```javascript
async function searchEmployees() {
  const name = document.getElementById('searchEmployees').value;
  const department = document.getElementById('filterDepartment').value;
  const position = document.getElementById('filterPosition').value;
  
  const params = new URLSearchParams();
  if (name) params.append('name', name);
  if (department) params.append('department', department);
  if (position) params.append('position', position);
  
  try {
    const employees = await apiRequest(`/search/employees?${params.toString()}`);
    const tableBody = document.getElementById('employeesTableBody');
    
    if (employees.length === 0) {
      tableBody.innerHTML = '<tr><td colspan="6" class="text-center text-muted">–°–æ—Ç—Ä—É–¥–Ω–∏–∫–∏ –Ω–µ –Ω–∞–π–¥–µ–Ω—ã</td></tr>';
      return;
    }
    
    tableBody.innerHTML = employees.map(employee => `
      <tr>
        <td>
          <div class="d-flex align-items-center">
            <i class="fas fa-user-circle fa-2x text-primary me-2"></i>
            <div>
              <div class="fw-bold">${employee.name}</div>
              <small class="text-muted">${employee.email}</small>
            </div>
          </div>
        </td>
        <td><span class="badge bg-secondary">${employee.position}</span></td>
        <td>${employee.department}</td>
        <td class="fw-bold">${employee.salary.toLocaleString()} ‚ÇΩ</td>
        <td>${employee.email}</td>
        <td>
          <button class="btn btn-sm btn-outline-primary me-1" onclick="editEmployee('${employee._id}')">
            <i class="fas fa-edit"></i>
          </button>
          ${currentUser.permissions.includes('admin') ? `
            <button class="btn btn-sm btn-outline-danger" onclick="deleteEmployee('${employee._id}')">
              <i class="fas fa-trash"></i>
            </button>
          ` : ''}
        </td>
      </tr>
    `).join('');
  } catch (error) {
    console.error('Error searching employees:', error);
  }
}
```

---

## üé® –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å

### –û—Å–Ω–æ–≤–Ω—ã–µ CSS —Å—Ç–∏–ª–∏:
```css
:root {
  --primary-color: #2563eb;
  --secondary-color: #64748b;
  --success-color: #10b981;
  --warning-color: #f59e0b;
  --danger-color: #ef4444;
  --dark-color: #1e293b;
  --light-color: #f8fafc;
}

body {
  font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
  min-height: 100vh;
  margin: 0;
}

.glass-effect {
  background: rgba(255, 255, 255, 0.1);
  backdrop-filter: blur(10px);
  border: 1px solid rgba(255, 255, 255, 0.2);
  border-radius: 15px;
}

.card {
  border: none;
  border-radius: 15px;
  box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
  transition: all 0.3s;
}

.card:hover {
  transform: translateY(-2px);
  box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1);
}
```

### –ú–æ–¥–∞–ª—å–Ω—ã–µ –æ–∫–Ω–∞ –¥–ª—è —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è:
```html
<!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞ -->
<div class="modal fade" id="editEmployeeModal" tabindex="-1">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title">
          <i class="fas fa-user-edit me-2"></i>–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞
        </h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
      </div>
      <div class="modal-body">
        <form id="editEmployeeForm">
          <div class="row">
            <div class="col-md-6 mb-3">
              <label class="form-label">–ò–º—è</label>
              <input type="text" class="form-control" id="editEmployeeName" name="name" required>
            </div>
            <div class="col-md-6 mb-3">
              <label class="form-label">–î–æ–ª–∂–Ω–æ—Å—Ç—å</label>
              <input type="text" class="form-control" id="editEmployeePosition" name="position" required>
            </div>
          </div>
          <!-- –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –ø–æ–ª—è -->
        </form>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">–û—Ç–º–µ–Ω–∞</button>
        <button type="button" class="btn btn-primary" onclick="updateEmployee()">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>
      </div>
    </div>
  </div>
</div>
```

---

## üõ°Ô∏è –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –∏ –≤–∞–ª–∏–¥–∞—Ü–∏—è

### –•–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–∞—Ä–æ–ª–µ–π:
```javascript
const bcrypt = require('bcrypt');

// –ü—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
const hashPassword = async (password) => {
  const saltRounds = 10;
  return await bcrypt.hash(password, saltRounds);
};

// –ü—Ä–∏ –ø—Ä–æ–≤–µ—Ä–∫–µ –ø–∞—Ä–æ–ª—è
const verifyPassword = async (password, hashedPassword) => {
  return await bcrypt.compare(password, hashedPassword);
};
```

### –í–∞–ª–∏–¥–∞—Ü–∏—è –Ω–∞ —Å—Ç–æ—Ä–æ–Ω–µ –∫–ª–∏–µ–Ω—Ç–∞:
```javascript
function validateEmployeeForm(formData) {
  const errors = [];
  
  if (!formData.get('name') || formData.get('name').length < 2) {
    errors.push('–ò–º—è –¥–æ–ª–∂–Ω–æ —Å–æ–¥–µ—Ä–∂–∞—Ç—å –º–∏–Ω–∏–º—É–º 2 —Å–∏–º–≤–æ–ª–∞');
  }
  
  if (!formData.get('email') || !isValidEmail(formData.get('email'))) {
    errors.push('–ù–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π email –∞–¥—Ä–µ—Å');
  }
  
  if (!formData.get('salary') || parseInt(formData.get('salary')) < 0) {
    errors.push('–ó–∞—Ä–ø–ª–∞—Ç–∞ –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å –ø–æ–ª–æ–∂–∏—Ç–µ–ª—å–Ω—ã–º —á–∏—Å–ª–æ–º');
  }
  
  return errors;
}

function isValidEmail(email) {
  const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
  return emailRegex.test(email);
}
```

---

## üì¶ –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –∏ –∏–Ω–¥–µ–∫—Å—ã

### –°–æ–∑–¥–∞–Ω–∏–µ –∏–Ω–¥–µ–∫—Å–æ–≤ –¥–ª—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏:
```javascript
// –ò–Ω–¥–µ–∫—Å—ã –¥–ª—è –∫–æ–ª–ª–µ–∫—Ü–∏–∏ employees
await db.collection('employees').createIndex({ name: 1 });
await db.collection('employees').createIndex({ department: 1 });
await db.collection('employees').createIndex({ position: 1 });
await db.collection('employees').createIndex({ salary: 1 });
await db.collection('employees').createIndex({ email: 1 }, { unique: true });

// –°–æ—Å—Ç–∞–≤–Ω–æ–π –∏–Ω–¥–µ–∫—Å –¥–ª—è –ø–æ–∏—Å–∫–∞
await db.collection('employees').createIndex({ 
  department: 1, 
  position: 1, 
  salary: 1 
});

// –ò–Ω–¥–µ–∫—Å—ã –¥–ª—è –∫–æ–ª–ª–µ–∫—Ü–∏–∏ projects
await db.collection('projects').createIndex({ name: 1 });
await db.collection('projects').createIndex({ status: 1 });
await db.collection('projects').createIndex({ department: 1 });
await db.collection('projects').createIndex({ startDate: 1, endDate: 1 });

// –ò–Ω–¥–µ–∫—Å—ã –¥–ª—è –∫–æ–ª–ª–µ–∫—Ü–∏–∏ departments
await db.collection('departments').createIndex({ name: 1 }, { unique: true });
await db.collection('departments').createIndex({ location: 1 });

// –ò–Ω–¥–µ–∫—Å—ã –¥–ª—è –∫–æ–ª–ª–µ–∫—Ü–∏–∏ users
await db.collection('users').createIndex({ username: 1 }, { unique: true });
```

---

## üöÄ –ó–∞–ø—É—Å–∫ –∏ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ

### –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π:
```bash
npm install express mongodb bcryptjs jsonwebtoken cors dotenv
```

### –§–∞–π–ª package.json:
```json
{
  "name": "company-management-system",
  "version": "1.0.0",
  "description": "–°–∏—Å—Ç–µ–º–∞ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∫–æ–º–ø–∞–Ω–∏–µ–π",
  "main": "server.js",
  "scripts": {
    "start": "node server.js",
    "dev": "nodemon server.js"
  },
  "dependencies": {
    "express": "^4.18.2",
    "mongodb": "^5.0.0",
    "bcryptjs": "^2.4.3",
    "jsonwebtoken": "^9.0.0",
    "cors": "^2.8.5",
    "dotenv": "^16.0.0"
  }
}
```

### –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è (.env):
```env
PORT=3000
MONGODB_URI=mongodb://localhost:27017/company_db
JWT_SECRET=your_jwt_secret_key_here
```

### –ó–∞–ø—É—Å–∫ —Å–µ—Ä–≤–µ—Ä–∞:
```bash
npm start
```

---

## üìä –ó–∞–∫–ª—é—á–µ–Ω–∏–µ

–î–∞–Ω–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∫–æ–º–ø–∞–Ω–∏–µ–π –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è–µ—Ç —Å–æ–±–æ–π –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω–æ–µ –≤–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Å —Å–æ–≤—Ä–µ–º–µ–Ω–Ω–æ–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–æ–π –∏ —Ä–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–º —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–æ–º. –ü—Ä–æ–µ–∫—Ç –≤–∫–ª—é—á–∞–µ—Ç –≤ —Å–µ–±—è:

- ‚úÖ **–ü–æ–ª–Ω—ã–π CRUD —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª** –¥–ª—è –≤—Å–µ—Ö —Å—É—â–Ω–æ—Å—Ç–µ–π
- ‚úÖ **–¢—Ä–µ—Ö—É—Ä–æ–≤–Ω–µ–≤—É—é —Å–∏—Å—Ç–µ–º—É –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏**
- ‚úÖ **–†–∞–∑–≤–∏—Ç—É—é –æ—Ç—á–µ—Ç–Ω–æ—Å—Ç—å —Å –∞–≥—Ä–µ–≥–∞—Ü–∏–µ–π**
- ‚úÖ **–°–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å**
- ‚úÖ **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –∏ –≤–∞–ª–∏–¥–∞—Ü–∏—é –¥–∞–Ω–Ω—ã—Ö**
- ‚úÖ **–û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—É—é —Ä–∞–±–æ—Ç—É —Å –±–∞–∑–æ–π –¥–∞–Ω–Ω—ã—Ö**

–°–∏—Å—Ç–µ–º–∞ –≥–æ—Ç–æ–≤–∞ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é –∏ –º–æ–∂–µ—Ç –±—ã—Ç—å —Ä–∞—Å—à–∏—Ä–µ–Ω–∞ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–º–∏ –º–æ–¥—É–ª—è–º–∏ –∏ —Ñ—É–Ω–∫—Ü–∏—è–º–∏ –ø–æ –º–µ—Ä–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏. 